/* flight-search.component.scss */
@use "../../../../../../shared/src/infrastructure/ui/styles/variables.scss" as
  variables;
@use "../../../../../../shared/src/infrastructure/ui/styles/mixins.scss" as
  mixins;

.flight-search {
  @include mixins.typography-base;

  &__title {
    @include mixins.text-paragraph;
    padding-bottom: variables.$spacing-base;
    color: variables.$white;
  }

  &__form {
    background-color: variables.$white;
    border-radius: variables.$border-radius;
    box-shadow: 0 2px 8px variables.$shadow-color;
    width: 70dvw;
  }

  &__options {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid rgb(175, 175, 175);
    padding-block: 14px;
    padding-inline: 16px;
    &-origin {
      display: flex;
      gap: 45px;
    }
  }

  &__trip-type,
  &__passengers,
  &__rewards,
  &__advanced,
  &__stopover {
    display: flex;
    align-items: center;
    border-radius: 50px;
    padding: 8px;

    &:hover {
      background-color: rgb(239, 245, 255);
    }
  }

  &__toggle-btn {
    background: none;
    border: none;
    display: flex;
    align-items: center;
    cursor: pointer;
    @include mixins.text-secondary;
    color: variables.$blue;
  }

  &__checkbox {
    &-label {
      display: flex;
      align-items: center;
      cursor: pointer;
      z-index: 1;
      gap: variables.$spacing-xs;
      @include mixins.text-secondary;
      color: variables.$blue;
    }
  }

  &__advanced-btn,
  &__stopover-btn {
    background: none;
    border: none;
    @include mixins.text-secondary;
    color: variables.$blue;
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
  }

  &__main {
    display: flex;
    flex-wrap: wrap;
    gap: variables.$spacing-base;
    align-items: flex-start;
  }

  &__locations {
    display: flex;
    flex-basis: calc(60% - variables.$spacing-base);
    gap: 0;
    border: 1px solid variables.$gray;
    border-radius: variables.$border-radius;
    overflow: hidden;
  }

  &__origin,
  &__destination {
    flex: 1;
    position: relative;

    &:first-child {
      border-right: 1px solid variables.$gray;
    }
  }

  &__dates {
    flex-basis: 25%;
    border: 1px solid variables.$gray;
    border-radius: variables.$border-radius;
  }

  &__field {
    position: relative;
    padding: variables.$spacing-sm variables.$spacing-base;
    display: flex;
    flex-direction: column;

    &--date {
      height: 100%;
    }
  }

  &__field-icon {
    color: variables.$blue;
    font-size: variables.$icon-size-medium;
    margin-bottom: 4px;

    &--plane-from,
    &--plane-to,
    &--calendar {
      &::before {
        content: "";
        display: inline-block;
        width: variables.$icon-size-medium;
        height: variables.$icon-size-medium;
        background-color: variables.$blue;
        mask-repeat: no-repeat;
        mask-position: center;
        mask-size: contain;
      }
    }

    &--plane-from::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></svg>');
    }

    &--plane-to::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></svg>');
    }

    &--calendar::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>');
    }
  }

  &__field-label {
    @include mixins.form-label;
    margin-bottom: 4px;
  }

  &__field-input {
    border: none;
    background: none;
    font-size: variables.$font-size-paragraph;
    width: 100%;
    outline: none;

    &:focus {
      color: variables.$blue;
    }
  }

  &__field-swap {
    position: absolute;
    right: -12px;
    top: 50%;
    transform: translateY(-50%);
    width: 24px;
    height: 24px;
    background-color: variables.$white;
    border: 1px solid variables.$gray;
    border-radius: 50%;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;

    &::before {
      content: "";
      display: inline-block;
      width: 12px;
      height: 12px;
      background-color: variables.$blue;
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"/></svg>');
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size: contain;
    }
  }

  &__submit {
    flex-basis: calc(15% - 32px);
    height: 56px;
    @include mixins.button-primary;
    display: flex;
    align-items: center;
    justify-content: center;

    &:disabled {
      @include mixins.button-disabled;
    }
  }

  &__submit-icon {
    display: inline-block;
    width: variables.$icon-size-medium;
    height: variables.$icon-size-medium;
    background-color: variables.$white;
    mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>');
    mask-repeat: no-repeat;
    mask-position: center;
    mask-size: contain;
    margin-right: variables.$spacing-xs;
  }

  // Additional options
  &__extras {
    margin-top: variables.$spacing-lg;
    padding: 0 variables.$spacing-base;
  }

  &__extras-title {
    @include mixins.title-secondary;
    margin-bottom: variables.$spacing-base;
  }

  &__extras-options {
    display: flex;
    flex-wrap: wrap;
    gap: variables.$spacing-base;
  }

  &__extra {
    display: flex;
    align-items: center;
    color: variables.$blue;
    text-decoration: none;
    @include mixins.text-secondary;

    &:hover {
      text-decoration: underline;
    }
  }

  &__extra-icon {
    width: variables.$icon-size-large;
    height: variables.$icon-size-large;
    background-color: variables.$blue;
    border-radius: 50%;
    margin-right: variables.$spacing-xs;
    display: flex;
    align-items: center;
    justify-content: center;

    &::before {
      content: "";
      display: block;
      width: 14px;
      height: 14px;
      background-color: variables.$white;
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size: contain;
    }

    &--upgrade::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/></svg>');
    }

    &--card::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>');
    }

    &--insurance::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>');
    }

    &--car::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>');
    }
  }

  &__icon {
    display: inline-block;
    width: variables.$icon-size-small;
    height: variables.$icon-size-small;
    margin-right: variables.$spacing-xs;

    &--swap::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/></svg>');
    }

    &--person::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');
    }

    &--arrow-right::before {
      mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>');
    }
  }
}

.ng-invalid.ng-touched {
  border-color: variables.$red;

  & + .flight-search__error-message {
    @include mixins.error-message;
    display: block;
  }
}

.flight-search__error-message {
  display: none;
}
